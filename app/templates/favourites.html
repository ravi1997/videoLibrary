{% extends "layout.html" %}
{% block title %}Favourites · RPC Surgical Video Library{% endblock %}

{% block content %}
<section class="mb-8 text-center flex flex-col items-center">
  <h1 class="text-2xl md:text-3xl font-bold text-[color:var(--text)]">💖 Your Favourites</h1>
  <p class="muted mt-1">
    Saved videos you can quickly revisit.
    <span class="ml-2">(<span id="totalCount">0</span> total)</span>
  </p>
</section>

<!-- Toolbar -->
<section class="mb-6">
  <div class="glass p-3 rounded-xl flex flex-col md:flex-row md:items-center md:justify-between gap-3">
    <div class="flex items-center gap-2">
      <button id="sortRecent" class="px-3 py-2 rounded-lg border border-[color:var(--border)] hover:bg-[color:var(--brand-50)]">🆕 Recent Uploaded</button>
      <button id="sortAlpha" class="px-3 py-2 rounded-lg border border-[color:var(--border)] hover:bg-[color:var(--brand-50)]">🔤 A–Z</button>
    </div>
    <button id="viewToggle" class="btn-ghost px-3 py-2 rounded-lg border border-[color:var(--border)]">Toggle Grid/List</button>
  </div>
</section>

<!-- Results -->
<section>
  <div id="favGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5">
    {% for _ in range(8) %}
    <article class="card p-3 animate-pulse">
      <div class="rounded-lg h-40 bg-[color:var(--border)] mb-3"></div>
      <div class="h-4 bg-[color:var(--border)] rounded w-4/5 mb-2"></div>
      <div class="h-3 bg-[color:var(--border)] rounded w-3/5"></div>
    </article>
    {% endfor %}
  </div>

  <!-- Empty state -->
  <div id="emptyState" class="hidden text-center muted mt-10">
    <p>No favourites yet. Go to any video and tap <span class="px-2 py-1 rounded border border-[color:var(--border)]">❤️ Favourite</span>.</p>
  </div>

  <!-- Pagination -->
  <div class="mt-8 flex items-center justify-center gap-4">
    <button id="prevBtn" class="btn-ghost px-4 py-2 rounded-lg border border-[color:var(--border)]">⏮ Prev</button>
    <span id="pageNumber" class="text-lg font-medium text-[color:var(--text)]">Page 1</span>
    <button id="nextBtn" class="btn-ghost px-4 py-2 rounded-lg border border-[color:var(--border)]">Next ⏭</button>
  </div>
</section>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/favourites.js') }}"></script>
{% endblock %}
