{% extends 'layout.html' %}
{% block title %}Playlist · RPC Surgical Video Library{% endblock %}
{% block content %}
<div class="space-y-4" data-pid="{{ pid }}">
  <div class="flex items-center gap-2">
    <a href="/playlists" class="btn btn-ghost">↩ Back</a>
    <h1 id="plTitleHdr" class="text-2xl font-bold m-0">Playlist</h1>
  </div>

  <div class="card">
    <div class="grid gap-2" style="grid-template-columns: 1fr 1fr auto;">
      <input id="titleInput" class="input" placeholder="Title" />
      <input id="descInput" class="input" placeholder="Description" />
      <label class="text-sm flex items-center gap-2"><input type="checkbox" id="publicToggle"/> Public</label>
    </div>
    <div class="mt-2 flex gap-2">
      <button id="toggleEdit" class="btn btn-ghost">Edit</button>
      <button id="saveMeta" class="btn btn-primary" disabled>Save</button>
      <button id="deletePl" class="btn btn-danger" disabled>Delete</button>
      <div id="metaMsg" class="text-sm muted"></div>
    </div>
  </div>

  <div class="card">
    <div class="flex items-center gap-2">
      <input id="addVideoId" class="input" placeholder="Add video by UUID" />
      <button id="addVideoBtn" class="btn btn-primary">Add</button>
      <div id="addMsg" class="text-sm muted"></div>
    </div>
  </div>

  <div id="itemsList" class="space-y-2"></div>
  <div class="flex items-center gap-2">
    <button id="saveOrder" class="btn btn-primary">Save Order</button>
    <div id="orderMsg" class="text-sm muted"></div>
    <div class="flex-1"></div>
    <button id="prevItems" class="btn btn-ghost">⏮ Prev</button>
    <div id="itemsPageInfo" class="text-sm"></div>
    <button id="nextItems" class="btn btn-ghost">Next ⏭</button>
  </div>
</div>
{% endblock %}
{% block scripts %}
<script src="{{ url_for('static', filename='js/playlist_detail.js') }}" defer></script>
{% endblock %}
